<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer</title>

    <!-- 全局css -->
    <link rel="stylesheet" href="../../css/global.css">
    <!-- 局部css -->
    <link rel="stylesheet" href="style.css">
    <!-- 动画库 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- 避免睡眠 -->
    <script src="./asset/NoSleep.min.js"></script>
</head>

<body>
    <main>
        <div id="show">
            <p id="log">计时记录</p>
            <button id="add">记录当前</button>
            <button id="delete">删除末尾</button>
            <button id="clock">Clock</button>
        </div>
        <div id="timer" class="sketchy-box-timer">
            <div id="control">
                <button id="start">启动</button>
                <button id="stop">停止</button>
                <button id="reset">重置</button>
            </div>
            <div class="time">
                <div id="minutes" class="unit">00</div>
                <div>:</div>
                <div id="seconds" class="unit">00</div>
            </div>
            <div id="stage">
                <div class="cat" id="yellow-cat">
                    <img class="cat-body" src="./asset/cat/YellowCat-Body.png">
                    <img class="cat-closemouth" src="./asset/cat/YellowCat-CloseMouth.png">
                    <img class="cat-openmouth" src="./asset/cat/YellowCat-OpenMouth.png">
                    <img class="cat-hand" src="./asset/cat/YellowCat-Hand.png">
                    <img class="cat-fish" src="./asset/cat/YellowCat-Fish.png">
                </div>
                <div class="cat" id="black-cat">
                    <img class="cat-body" src="./asset/cat/BlackCat-Body.png">
                    <img class="cat-closemouth" src="./asset/cat/BlackCat-CloseMouth.png">
                    <img class="cat-openmouth" src="./asset/cat/BlackCat-OpenMouth.png">
                    <img class="cat-fish" src="./asset/cat/BlackCat-Fish.png">

                </div>
            </div>

        </div>
        <div id="other" class="sketchy-mark">
            <span>tips: 没有任何鱼鱼和猫猫会受到伤害</span>
        </div>
    </main>
</body>
<script>
    if (CSS["paintWorklet"] !== undefined) {
        CSS.paintWorklet.addModule("../../bundle/worklet-sketchy-background.js");
        CSS.paintWorklet.addModule("../../bundle/worklet-rough-box.js");
        CSS.paintWorklet.addModule("../../bundle/worklet-sketchy-underline.js")
    }
</script>
<script>
    function resizeStage() {
        const timer = document.getElementById("timer");
        const stage = document.getElementById("stage");
        const scale = timer.clientWidth / 512; // 512 是舞台设计宽度
        stage.style.transform = `translate(-50%, -50%) scale(${scale})`;

    }
    window.addEventListener("resize", resizeStage);
    resizeStage();
</script>


<!-- 动画逻辑部分 -->
<script src="./animelogic.js"></script>
<!-- 计时器逻辑 -->
<script src="./Timelogic.js"></script>
<!-- 甜点功能,显示当前时间 -->
<script src="./clock.js"></script>

</html>